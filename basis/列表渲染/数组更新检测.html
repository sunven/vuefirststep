<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title></title>
    <script src="../../js/vue.js"></script>
</head>

<body>
    <div id="example-1">
        <ul>
            <li v-for="item in items">
                {{ item.message }}
            </li>
        </ul>
        <div>
            <button @click="pushFun">push(向数组的末尾添加一个或更多元素，并返回新的长度)</button>
        </div>
        <div>
            <button @click="pophFun">pop(删除并返回数组的最后一个元素)</button>
        </div>
        <div>
            <button @click="shiftFun">shift(删除并返回数组的第一个元素)</button>
        </div>
        <div>
            <button @click="unshiftFun">unshift(向数组的开头添加一个或更多元素，并返回新的长度。)</button>
        </div>
        <div>
            <button @click="spliceFun">splice(删除元素，并向数组添加新元素。)</button>
        </div>
        <div>
            <button @click="sortFun">sort(对数组的元素进行排序)</button>
        </div>
        <div>
            <button @click="reverseFun">reverse(颠倒数组中元素的顺序。)</button>
        </div>
        <hr>
        <div>
            <button @click="filterFun">filter</button>
        </div>
        <div>
            <button @click="concatFun">concat</button>
        </div>
    </div>
    <script>
        var example1 = new Vue({
            el: '#example-1',
            data: {
                items: [{
                        message: 3
                    }, {
                        message: 'Foo'
                    },
                    {
                        message: 4
                    },
                    {
                        message: 'Bar'
                    },
                    {
                        message: 1
                    },
                    {
                        message: 2
                    }
                ]
            },
            methods: {
                pushFun: function () {
                    alert(this.items.push({
                        message: "push"
                    }));
                },
                pophFun: function () {
                    alert(this.items.pop().message);
                },
                shiftFun: function () {
                    alert(this.items.shift().message);
                },
                unshiftFun: function () {
                    alert(this.items.unshift({
                        message: "unshift"
                    }));
                },
                spliceFun: function () {
                    this.items.splice(1, 3, {
                        message: "splice"
                    })
                },
                sortFun: function () {
                    // 若 a 小于 b，在排序后的数组中 a 应该出现在 b 之前，则返回一个小于 0 的值。
                    // 若 a 等于 b，则返回 0。
                    // 若 a 大于 b，则返回一个大于 0 的值
                    this.items.sort(function (value1, value2) {
                        if (isNaN(value2.message) && !isNaN(value1.message)) {
                            return -1;
                        } else if (isNaN(value1.message) && !isNaN(value2.message)) {
                            return 1;
                        } else {
                            0
                        }
                        if (value1.message < value2.message) {
                            return -1;
                        } else if (value1.message > value2.message) {
                            return 1;
                        } else {
                            return 0;
                        }
                    })
                },
                reverseFun: function () {
                    this.items.reverse();
                },
                filterFun: function () {
                    this.items = this.items.filter(function (item) {
                        return (item.message + "").match(/Foo/);
                    })
                },
                concatFun: function () {
                    this.items = this.items.concat([{
                        message: "a1"
                    }, {
                        message: "b1"
                    }]);
                }
            }
        })
    </script>
</body>

</html>